document:
  dsl: '1.0.0'
  namespace: default
  name: try-catch-retry-reusable
  version: '0.1.0'
use:
  retries:
    default:
      delay:
        milliseconds: 10
      backoff:
        constant: {}
      limit:
        attempt:
          count: 5
do:
  - tryGetPet:
      try:
        - getPet:
            call: http
            with:
              method: get
              endpoint: http://localhost:9797
              redirect: true
      catch:
        errors:
          with:
            type: https://serverlessworkflow.io/spec/1.0.0/errors/communication
            status: 404
        retry: default
          